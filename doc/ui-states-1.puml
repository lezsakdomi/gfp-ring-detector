@startuml

[*] -[dotted]r-> list: AlapÃ©rtelmezetten\nmegnyÃ­lik a bÃ¶ngÃ©szÅ‘ben
list --> analyze: FÃ¡jlra kattintunk

state "FÃ¡jlok listÃ¡zÃ¡sa" as list #lightBlue {
    [*] -[dotted]r-> noFilter
    noFilter -r-> filtered
    filtered -r-> filtered
    state "KeresÅ‘mezÅ‘ Ã¼res" as noFilter
    state "SzÅ±rÅ‘feltÃ©tel megadva" as filtered
}
list: Van lehetÅ‘sÃ©g keresÅ‘vel szÅ±rni

state "AnalizÃ¡lÃ¡s" as analyze #lightBlue {
    state "FÃ¡jl ismeretlen" as fileUnknown #lightBlue
    state "FÃ¡jl kivÃ¡lasztva" as fileKnownAndAnalyzing #lightBlue {
        state "WebSocket kapcsolat lÃ©trehozva" as connected {
            state "1. lÃ©pÃ©s" as analyzing1 {
                state "1. lÃ©pÃ©s folyamatban" as got1inputs: Bemenetek mutatÃ¡sa
                state "1. lÃ©pÃ©s kÃ©sz" as got1outputs: Kimenetek mutatÃ¡sa
                state "Folyamat megszakadt az 1. lÃ©pÃ©snÃ©l" as got1error #FFCCCB: Hiba mutatÃ¡sa

                [*] -[dotted]> got1inputs: ðŸ–§
                got1inputs -[dotted]> got1outputs: ðŸ–§
                got1outputs -[dotted]> [*]: ðŸ–§
                got1inputs -[dotted]-> got1error: ðŸ–§
            }

            state "2. lÃ©pÃ©s" as analyzing2 {
                state "2. lÃ©pÃ©s folyamatban" as got2inputs: Bemenetek mutatÃ¡sa
                state "2. lÃ©pÃ©s kÃ©sz" as got2outputs: Kimenetek mutatÃ¡sa
                state "Folyamat megszakadt a 2. lÃ©pÃ©snÃ©l" as got2error #FFCCCB: Hiba mutatÃ¡sa

                [*] -[dotted]> got2inputs: ðŸ–§
                got2inputs -[dotted]> got2outputs: ðŸ–§
                got2outputs -[dotted]> [*]: ðŸ–§
                got2inputs -[dotted]-> got2error: ðŸ–§
            }

            state "3. lÃ©pÃ©s" as analyzing3 {
                state "3. lÃ©pÃ©s folyamatban" as got3inputs: Bemenetek mutatÃ¡sa
                state "3. lÃ©pÃ©s kÃ©sz" as got3outputs: Kimenetek mutatÃ¡sa
                state "Folyamat megszakadt a 3. lÃ©pÃ©snÃ©l" as got3error #FFCCCB: Hiba mutatÃ¡sa

                [*] -[dotted]> got3inputs: ðŸ–§
                got3inputs -[dotted]> got3outputs: ðŸ–§
                got3outputs -[dotted]> [*]: ðŸ–§
                got3inputs -[dotted]-> got3error: ðŸ–§
            }

            [*] -[dotted]-> analyzing1: ðŸ–§
            analyzing1 -[dotted]-> analyzing2: ðŸ–§
            analyzing2 -[dotted]-> analyzing3: ðŸ–§
            analyzing3 -[dotted]-> [*]: ðŸ–§
        }

        state "Megszakadt a kapcsolat" as wsError #FFCCCB

        [*] -[dotted]-> connected
        'connected -[dotted]-> [*]: ðŸ–§
        connected -[dotted]r-> wsError: ðŸ–§
    }

    fileUnknown -[dotted]r-> fileKnownAndAnalyzing: FÃ¡jlnÃ©v bekÃ©rÃ©se\nfelugrÃ³ ablakban
    [*] -[dotted]-> fileKnownAndAnalyzing
}

state "TÃ¶bb kÃ©p analizÃ¡lÃ¡sa" as analyzeAll {
    state "1. talÃ¡lat analizÃ¡lÃ¡sa" as a1
    state "2. talÃ¡lat analizÃ¡lÃ¡sa" as a2
    state "3. talÃ¡lat analizÃ¡lÃ¡sa" as a3
    a1 --> a2
    a2 --> a3
}

list -r-> analyzeAll: Gombra\nkattintunk

@enduml